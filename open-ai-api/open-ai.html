<div class="markdown-page markdown-content assistants-overview"><div class="anchor-heading-root"><a class="anchor-heading-link" href="/docs/assistants/overview/agents"><h1 class="anchor-heading" data-name="agents">Assistants API <div class="css-7iech3 ebruvor0">Beta</div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" aria-hidden="true" class="anchor-heading-icon" height="15px" width="15px" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd"></path></svg></h1></a></div><p>The Assistants API allows you to build AI assistants within your own applications. An Assistant has instructions and can leverage models, tools, and files to respond to user queries. The Assistants API currently supports three types of tools: Code Interpreter, File Search, and Function calling.</p><p>You can explore the capabilities of the Assistants API using the <a href="/playground?mode=assistant">Assistants playground</a> or by building a step-by-step integration outlined in this guide.</p><div class="anchor-heading-root"><a class="anchor-heading-link" href="/docs/assistants/overview/overview"><h3 class="anchor-heading" data-name="overview">Overview<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" aria-hidden="true" class="anchor-heading-icon" height="15px" width="15px" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd"></path></svg></h3></a></div><p>A typical integration of the Assistants API has the following flow:</p><ol><li>Create an <a href="/docs/api-reference/assistants/createAssistant">Assistant</a> by defining its custom instructions and picking a model. If helpful, add files and enable tools like Code Interpreter, File Search, and Function calling.</li><li>Create a <a href="/docs/api-reference/threads">Thread</a> when a user starts a conversation.</li><li>Add <a href="/docs/api-reference/messages">Messages</a> to the Thread as the user asks questions.</li><li><a href="/docs/api-reference/runs">Run</a> the Assistant on the Thread to generate a response by calling the model and the tools.</li></ol><p>This starter guide walks through the key steps to create and run an Assistant that uses <a href="/docs/assistants/tools/code-interpreter">Code Interpreter</a>. In this example, we're <a href="/docs/api-reference/assistants/createAssistant">creating an Assistant</a> that is a personal math tutor, with the Code Interpreter tool enabled.</p><div class="mt-6 mb-6"><div class="notice notice-neutral has-body has-icon"><div class="notice-icon notice-icon-primary"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 24 24"><path d="M13 12a1 1 0 1 0-2 0v4a1 1 0 1 0 2 0v-4Zm-1-2.5A1.25 1.25 0 1 0 12 7a1.25 1.25 0 0 0 0 2.5Z"></path><path fill-rule="evenodd" d="M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2ZM4 12a8 8 0 1 1 16 0 8 8 0 0 1-16 0Z" clip-rule="evenodd"></path></svg></div><div class="notice-message"><div class="notice-body">Calls to the Assistants API require that you pass a beta HTTP header. This is handled automatically if you’re using OpenAI’s official Python or Node.js SDKs.<div class="code-sample code-sample-oneliner"><div class="code-sample-body code-sample-body-large"><button type="button" tabindex="0" class="btn btn-sm btn-minimal btn-neutral code-sample-copy-float" aria-label="Copy"><span class="btn-label-wrap"><span class="btn-node start-node"><svg xmlns="http://www.w3.org/2000/svg" width="18px" height="18px" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M7 5a3 3 0 0 1 3-3h9a3 3 0 0 1 3 3v9a3 3 0 0 1-3 3h-2v2a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3v-9a3 3 0 0 1 3-3h2V5Zm2 2h5a3 3 0 0 1 3 3v5h2a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1h-9a1 1 0 0 0-1 1v2ZM5 9a1 1 0 0 0-1 1v9a1 1 0 0 0 1 1h9a1 1 0 0 0 1-1v-9a1 1 0 0 0-1-1H5Z" clip-rule="evenodd"></path></svg></span></span></button><pre class="hljs syntax-highlighter dark-mode code-sample-pre"><code class="language-text" style="white-space: pre;"><span><span>OpenAI-Beta: assistants=v2</span></span></code></pre></div></div></div></div></div></div><div class="anchor-heading-root"><a class="anchor-heading-link" href="/docs/assistants/overview/step-1-create-an-assistant"><h3 class="anchor-heading" data-name="step-1-create-an-assistant">Step 1: Create an Assistant<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" aria-hidden="true" class="anchor-heading-icon" height="15px" width="15px" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd"></path></svg></h3></a></div><p>An <a href="/docs/api-reference/assistants/object">Assistant</a> represents an entity that can be configured to respond to a user's messages using several parameters like <code>model</code>, <code>instructions</code>, and <code>tools</code>.</p><div class="code-sample"><div class="code-sample-header"><div class="code-sample-title body-small">Create an Assistant</div><div class="code-sample-select-wrap"><div class="code-sample-select-val">python</div><select class="code-sample-select api-code-lang-select"><option disabled="" value="">Select library</option><option value="python">python</option><option value="node.js">node.js</option><option value="curl">curl</option></select><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M4.293 8.293a1 1 0 0 1 1.414 0L12 14.586l6.293-6.293a1 1 0 1 1 1.414 1.414l-7 7a1 1 0 0 1-1.414 0l-7-7a1 1 0 0 1 0-1.414Z" clip-rule="evenodd"></path></svg></div><div class="code-sample-copy"><button type="button" tabindex="0" class="btn btn-sm btn-minimal btn-neutral"><span class="btn-label-wrap"><span class="btn-node start-node"><svg xmlns="http://www.w3.org/2000/svg" width="18px" height="18px" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M7 5a3 3 0 0 1 3-3h9a3 3 0 0 1 3 3v9a3 3 0 0 1-3 3h-2v2a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3v-9a3 3 0 0 1 3-3h2V5Zm2 2h5a3 3 0 0 1 3 3v5h2a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1h-9a1 1 0 0 0-1 1v2ZM5 9a1 1 0 0 0-1 1v9a1 1 0 0 0 1 1h9a1 1 0 0 0 1-1v-9a1 1 0 0 0-1-1H5Z" clip-rule="evenodd"></path></svg></span></span></button></div></div><div class="code-sample-body code-sample-body-small code-sample-body-with-header"><pre class="hljs syntax-highlighter dark-mode code-sample-pre"><code class="language-python" style="white-space: pre;"><code style="float: left; padding-right: 10px;"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span></code><span><span class="hljs-keyword">from</span><span> openai </span><span class="hljs-keyword">import</span><span> OpenAI
</span></span><span>client = OpenAI()
</span><span>  
</span><span>assistant = client.beta.assistants.create(
</span><span><span>  name=</span><span class="hljs-string">"Math Tutor"</span><span>,
</span></span><span><span>  instructions=</span><span class="hljs-string">"You are a personal math tutor. Write and run code to answer math questions."</span><span>,
</span></span><span><span>  tools=[{</span><span class="hljs-string">"type"</span><span>: </span><span class="hljs-string">"code_interpreter"</span><span>}],
</span></span><span><span>  model=</span><span class="hljs-string">"gpt-4o"</span><span>,
</span></span><span>)</span></code></pre></div></div><div class="anchor-heading-root"><a class="anchor-heading-link" href="/docs/assistants/overview/step-2-create-a-thread"><h3 class="anchor-heading" data-name="step-2-create-a-thread">Step 2: Create a Thread<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" aria-hidden="true" class="anchor-heading-icon" height="15px" width="15px" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd"></path></svg></h3></a></div><p>A <a href="/docs/api-reference/threads/object">Thread</a> represents a conversation between a user and one or many Assistants. You can create a Thread when a user (or your AI application) starts a conversation with your Assistant.</p><div class="code-sample code-sample-oneliner"><div class="code-sample-header"><div class="code-sample-title body-small">Create a Thread</div><div class="code-sample-select-wrap"><div class="code-sample-select-val">python</div><select class="code-sample-select api-code-lang-select"><option disabled="" value="">Select library</option><option value="python">python</option><option value="node.js">node.js</option><option value="curl">curl</option></select><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M4.293 8.293a1 1 0 0 1 1.414 0L12 14.586l6.293-6.293a1 1 0 1 1 1.414 1.414l-7 7a1 1 0 0 1-1.414 0l-7-7a1 1 0 0 1 0-1.414Z" clip-rule="evenodd"></path></svg></div><div class="code-sample-copy"><button type="button" tabindex="0" class="btn btn-sm btn-minimal btn-neutral"><span class="btn-label-wrap"><span class="btn-node start-node"><svg xmlns="http://www.w3.org/2000/svg" width="18px" height="18px" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M7 5a3 3 0 0 1 3-3h9a3 3 0 0 1 3 3v9a3 3 0 0 1-3 3h-2v2a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3v-9a3 3 0 0 1 3-3h2V5Zm2 2h5a3 3 0 0 1 3 3v5h2a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1h-9a1 1 0 0 0-1 1v2ZM5 9a1 1 0 0 0-1 1v9a1 1 0 0 0 1 1h9a1 1 0 0 0 1-1v-9a1 1 0 0 0-1-1H5Z" clip-rule="evenodd"></path></svg></span></span></button></div></div><div class="code-sample-body code-sample-body-small code-sample-body-with-header"><pre class="hljs syntax-highlighter dark-mode code-sample-pre"><code class="language-python" style="white-space: pre;"><span><span>thread = client.beta.threads.create()</span></span></code></pre></div></div><div class="anchor-heading-root"><a class="anchor-heading-link" href="/docs/assistants/overview/step-3-add-a-message-to-the-thread"><h3 class="anchor-heading" data-name="step-3-add-a-message-to-the-thread">Step 3: Add a Message to the Thread<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" aria-hidden="true" class="anchor-heading-icon" height="15px" width="15px" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd"></path></svg></h3></a></div><p>The contents of the messages your users or applications create are added as <a href="/docs/api-reference/messages/object">Message</a> objects to the Thread. Messages can contain both text and files. There is no limit to the number of Messages you can add to Threads —&nbsp;we smartly truncate any context that does not fit into the model's context window.</p><div class="code-sample"><div class="code-sample-header"><div class="code-sample-title body-small">Add a Message to the Thread</div><div class="code-sample-select-wrap"><div class="code-sample-select-val">python</div><select class="code-sample-select api-code-lang-select"><option disabled="" value="">Select library</option><option value="python">python</option><option value="node.js">node.js</option><option value="curl">curl</option></select><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M4.293 8.293a1 1 0 0 1 1.414 0L12 14.586l6.293-6.293a1 1 0 1 1 1.414 1.414l-7 7a1 1 0 0 1-1.414 0l-7-7a1 1 0 0 1 0-1.414Z" clip-rule="evenodd"></path></svg></div><div class="code-sample-copy"><button type="button" tabindex="0" class="btn btn-sm btn-minimal btn-neutral"><span class="btn-label-wrap"><span class="btn-node start-node"><svg xmlns="http://www.w3.org/2000/svg" width="18px" height="18px" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M7 5a3 3 0 0 1 3-3h9a3 3 0 0 1 3 3v9a3 3 0 0 1-3 3h-2v2a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3v-9a3 3 0 0 1 3-3h2V5Zm2 2h5a3 3 0 0 1 3 3v5h2a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1h-9a1 1 0 0 0-1 1v2ZM5 9a1 1 0 0 0-1 1v9a1 1 0 0 0 1 1h9a1 1 0 0 0 1-1v-9a1 1 0 0 0-1-1H5Z" clip-rule="evenodd"></path></svg></span></span></button></div></div><div class="code-sample-body code-sample-body-small code-sample-body-with-header"><pre class="hljs syntax-highlighter dark-mode code-sample-pre"><code class="language-python" style="white-space: pre;"><code style="float: left; padding-right: 10px;"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span></code><span><span>message = client.beta.threads.messages.create(
</span></span><span><span>  thread_id=thread.</span><span class="hljs-built_in">id</span><span>,
</span></span><span><span>  role=</span><span class="hljs-string">"user"</span><span>,
</span></span><span><span>  content=</span><span class="hljs-string">"I need to solve the equation `3x + 11 = 14`. Can you help me?"</span><span>
</span></span><span>)</span></code></pre></div></div><div class="anchor-heading-root"><a class="anchor-heading-link" href="/docs/assistants/overview/step-4-create-a-run"><h3 class="anchor-heading" data-name="step-4-create-a-run">Step 4: Create a Run<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" aria-hidden="true" class="anchor-heading-icon" height="15px" width="15px" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd"></path></svg></h3></a></div><p>Once all the user Messages have been added to the Thread, you can <a href="/docs/api-reference/runs/object">Run</a> the Thread with any Assistant. Creating a Run uses the model and tools associated with the Assistant to generate a response. These responses are added to the Thread as <code>assistant</code> Messages.</p><div><div class="content-switcher"><div class="css-1vnsq64 e1op5bay1"><div class="css-1n6ikf0 e1op5bay0"><button type="button" tabindex="0" class="btn btn-sm btn-filled btn-primary" aria-pressed="true"><span class="btn-label-wrap"><span class="btn-label-inner">With streaming&zwj;</span></span></button><button type="button" tabindex="0" class="btn btn-sm btn-outlined btn-primary" aria-pressed="false"><span class="btn-label-wrap"><span class="btn-label-inner">Without streaming&zwj;</span></span></button></div></div></div><p>You can use the 'create and stream' helpers in the Python and Node SDKs to create a run and stream the response.</p><div class="code-sample"><div class="code-sample-header"><div class="code-sample-title body-small">Create and Stream a Run</div><div class="code-sample-select-wrap"><div class="code-sample-select-val">python</div><select class="code-sample-select api-code-lang-select"><option disabled="" value="">Select library</option><option value="python">python</option><option value="node.js">node.js</option></select><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M4.293 8.293a1 1 0 0 1 1.414 0L12 14.586l6.293-6.293a1 1 0 1 1 1.414 1.414l-7 7a1 1 0 0 1-1.414 0l-7-7a1 1 0 0 1 0-1.414Z" clip-rule="evenodd"></path></svg></div><div class="code-sample-copy"><button type="button" tabindex="0" class="btn btn-sm btn-minimal btn-neutral"><span class="btn-label-wrap"><span class="btn-node start-node"><svg xmlns="http://www.w3.org/2000/svg" width="18px" height="18px" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M7 5a3 3 0 0 1 3-3h9a3 3 0 0 1 3 3v9a3 3 0 0 1-3 3h-2v2a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3v-9a3 3 0 0 1 3-3h2V5Zm2 2h5a3 3 0 0 1 3 3v5h2a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1h-9a1 1 0 0 0-1 1v2ZM5 9a1 1 0 0 0-1 1v9a1 1 0 0 0 1 1h9a1 1 0 0 0 1-1v-9a1 1 0 0 0-1-1H5Z" clip-rule="evenodd"></path></svg></span></span></button></div></div><div class="code-sample-body code-sample-body-small code-sample-body-with-header"><pre class="hljs syntax-highlighter dark-mode code-sample-pre"><code class="language-python" style="white-space: pre;"><code style="float: left; padding-right: 10px;"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span><span class="react-syntax-highlighter-line-number">20
</span><span class="react-syntax-highlighter-line-number">21
</span><span class="react-syntax-highlighter-line-number">22
</span><span class="react-syntax-highlighter-line-number">23
</span><span class="react-syntax-highlighter-line-number">24
</span><span class="react-syntax-highlighter-line-number">25
</span><span class="react-syntax-highlighter-line-number">26
</span><span class="react-syntax-highlighter-line-number">27
</span><span class="react-syntax-highlighter-line-number">28
</span><span class="react-syntax-highlighter-line-number">29
</span><span class="react-syntax-highlighter-line-number">30
</span><span class="react-syntax-highlighter-line-number">31
</span><span class="react-syntax-highlighter-line-number">32
</span><span class="react-syntax-highlighter-line-number">33
</span><span class="react-syntax-highlighter-line-number">34
</span><span class="react-syntax-highlighter-line-number">35
</span><span class="react-syntax-highlighter-line-number">36
</span><span class="react-syntax-highlighter-line-number">37
</span><span class="react-syntax-highlighter-line-number">38
</span><span class="react-syntax-highlighter-line-number">39
</span></code><span><span class="hljs-keyword">from</span><span> typing_extensions </span><span class="hljs-keyword">import</span><span> override
</span></span><span><span></span><span class="hljs-keyword">from</span><span> openai </span><span class="hljs-keyword">import</span><span> AssistantEventHandler
</span></span><span> 
</span><span><span></span><span class="hljs-comment"># First, we create a EventHandler class to define</span><span>
</span></span><span><span></span><span class="hljs-comment"># how we want to handle the events in the response stream.</span><span>
</span></span><span> 
</span><span><span></span><span class="hljs-class hljs-keyword">class</span><span class="hljs-class"> </span><span class="hljs-class hljs-title">EventHandler</span><span class="hljs-class">(</span><span class="hljs-class hljs-params">AssistantEventHandler</span><span class="hljs-class">):</span><span>    
</span></span><span><span></span><span class="hljs-meta">  @override</span><span>
</span></span><span><span>  </span><span class="hljs-function hljs-keyword">def</span><span class="hljs-function"> </span><span class="hljs-function hljs-title">on_text_created</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">self, text</span><span class="hljs-function">) -&gt; </span><span class="hljs-function hljs-literal">None</span><span class="hljs-function">:</span><span>
</span></span><span><span>    </span><span class="hljs-built_in">print</span><span>(</span><span class="hljs-string">f"\nassistant &gt; "</span><span>, end=</span><span class="hljs-string">""</span><span>, flush=</span><span class="hljs-literal">True</span><span>)
</span></span><span>      
</span><span><span></span><span class="hljs-meta">  @override</span><span>
</span></span><span><span>  </span><span class="hljs-function hljs-keyword">def</span><span class="hljs-function"> </span><span class="hljs-function hljs-title">on_text_delta</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">self, delta, snapshot</span><span class="hljs-function">):</span><span>
</span></span><span><span>    </span><span class="hljs-built_in">print</span><span>(delta.value, end=</span><span class="hljs-string">""</span><span>, flush=</span><span class="hljs-literal">True</span><span>)
</span></span><span>      
</span><span><span>  </span><span class="hljs-function hljs-keyword">def</span><span class="hljs-function"> </span><span class="hljs-function hljs-title">on_tool_call_created</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">self, tool_call</span><span class="hljs-function">):</span><span>
</span></span><span><span>    </span><span class="hljs-built_in">print</span><span>(</span><span class="hljs-string">f"\nassistant &gt; </span><span class="hljs-string hljs-subst">{tool_call.</span><span class="hljs-string hljs-subst hljs-built_in">type</span><span class="hljs-string hljs-subst">}</span><span class="hljs-string">\n"</span><span>, flush=</span><span class="hljs-literal">True</span><span>)
</span></span><span>  
</span><span><span>  </span><span class="hljs-function hljs-keyword">def</span><span class="hljs-function"> </span><span class="hljs-function hljs-title">on_tool_call_delta</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">self, delta, snapshot</span><span class="hljs-function">):</span><span>
</span></span><span><span>    </span><span class="hljs-keyword">if</span><span> delta.</span><span class="hljs-built_in">type</span><span> == </span><span class="hljs-string">'code_interpreter'</span><span>:
</span></span><span><span>      </span><span class="hljs-keyword">if</span><span> delta.code_interpreter.</span><span class="hljs-built_in">input</span><span>:
</span></span><span><span>        </span><span class="hljs-built_in">print</span><span>(delta.code_interpreter.</span><span class="hljs-built_in">input</span><span>, end=</span><span class="hljs-string">""</span><span>, flush=</span><span class="hljs-literal">True</span><span>)
</span></span><span><span>      </span><span class="hljs-keyword">if</span><span> delta.code_interpreter.outputs:
</span></span><span><span>        </span><span class="hljs-built_in">print</span><span>(</span><span class="hljs-string">f"\n\noutput &gt;"</span><span>, flush=</span><span class="hljs-literal">True</span><span>)
</span></span><span><span>        </span><span class="hljs-keyword">for</span><span> output </span><span class="hljs-keyword">in</span><span> delta.code_interpreter.outputs:
</span></span><span><span>          </span><span class="hljs-keyword">if</span><span> output.</span><span class="hljs-built_in">type</span><span> == </span><span class="hljs-string">"logs"</span><span>:
</span></span><span><span>            </span><span class="hljs-built_in">print</span><span>(</span><span class="hljs-string">f"\n</span><span class="hljs-string hljs-subst">{output.logs}</span><span class="hljs-string">"</span><span>, flush=</span><span class="hljs-literal">True</span><span>)
</span></span><span> 
</span><span><span></span><span class="hljs-comment"># Then, we use the `stream` SDK helper </span><span>
</span></span><span><span></span><span class="hljs-comment"># with the `EventHandler` class to create the Run </span><span>
</span></span><span><span></span><span class="hljs-comment"># and stream the response.</span><span>
</span></span><span> 
</span><span><span></span><span class="hljs-keyword">with</span><span> client.beta.threads.runs.stream(
</span></span><span><span>  thread_id=thread.</span><span class="hljs-built_in">id</span><span>,
</span></span><span><span>  assistant_id=assistant.</span><span class="hljs-built_in">id</span><span>,
</span></span><span><span>  instructions=</span><span class="hljs-string">"Please address the user as Jane Doe. The user has a premium account."</span><span>,
</span></span><span>  event_handler=EventHandler(),
</span><span><span>) </span><span class="hljs-keyword">as</span><span> stream:
</span></span><span>  stream.until_done()</span></code></pre></div></div><p>See the full list of Assistants streaming events in our API reference <a href="/docs/api-reference/assistants-streaming/events">here</a>. You can also see a list of SDK event listeners for these events in the <a href="https://github.com/openai/openai-python/blob/main/helpers.md#assistant-events" target="_blank" rel="noopener noreferrer">Python</a> &amp; <a href="https://github.com/openai/openai-node/blob/master/helpers.md#assistant-events" target="_blank" rel="noopener noreferrer">Node</a> repository documentation.</p><div class="anchor-heading-root"><a class="anchor-heading-link" href="/docs/assistants/overview/next"><h3 class="anchor-heading" data-name="next">Next<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" aria-hidden="true" class="anchor-heading-icon" height="15px" width="15px" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd"></path></svg></h3></a></div><ol><li>Dive deeper into <a href="/docs/assistants/how-it-works">How Assistants work</a></li><li>Learn more about <a href="/docs/assistants/tools">Tools</a></li><li>Explore the <a href="/playground?mode=assistant">Assistants playground</a></li></ol></div></div>